<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Don't Panic - Cours SQL</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">Cours SQL</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Cours 0</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../cours0/" class="dropdown-item">Introduction</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Cours 1</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../cours1/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../../../cours1/cyberchase/instructions/" class="dropdown-item">Cyberchase</a>
</li>
                                    
<li>
    <a href="../../../cours1/normals/instructions/" class="dropdown-item">Normals</a>
</li>
                                    
<li>
    <a href="../../../cours1/players/instructions/" class="dropdown-item">Players</a>
</li>
                                    
<li>
    <a href="../../../cours1/views/instructions/" class="dropdown-item">Views</a>
</li>
                                    
<li>
    <a href="../../../cours1/index_old.md" class="dropdown-item">Old Index</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Cours 2</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../cours2/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../../../cours2/dese/instructions/" class="dropdown-item">Dese</a>
</li>
                                    
<li>
    <a href="../../../cours2/moneyball/instructions/" class="dropdown-item">Moneyball</a>
</li>
                                    
<li>
    <a href="../../../cours2/packages/instructions/" class="dropdown-item">Packages</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Cours 3</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../cours3/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../../../cours3/atl/instructions/" class="dropdown-item">ATL</a>
</li>
                                    
<li>
    <a href="../../../cours3/connect/instructions/" class="dropdown-item">Connect</a>
</li>
                                    
<li>
    <a href="../../../cours3/doghnut/instructions/" class="dropdown-item">Doghnut</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Cours 4</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Don't Panic</a>
</li>
                                    
<li>
    <a href="../../meteorites/instructions/" class="dropdown-item">Meteorites</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Cours 5</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../cours5/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../../../cours5/bnb/instructions/" class="dropdown-item">BNB</a>
</li>
                                    
<li>
    <a href="../../../cours5/census/instructions/" class="dropdown-item">Census</a>
</li>
                                    
<li>
    <a href="../../../cours5/private/instructions/" class="dropdown-item">Private</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Cours 6</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../cours6/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../../../cours6/harvard/instructions/" class="dropdown-item">Harvard</a>
</li>
                                    
<li>
    <a href="../../../cours6/snap/instructions/" class="dropdown-item">Snap</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Cours 7</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../cours7/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../../../cours7/index2/" class="dropdown-item">Index 2</a>
</li>
                                    
<li>
    <a href="../../../cours7/deep/answers/" class="dropdown-item">Deep Answers</a>
</li>
                                    
<li>
    <a href="../../../cours7/deep/instructions/" class="dropdown-item">Deep Instructions</a>
</li>
                                    
<li>
    <a href="../../../cours7/dont-panic-python/instructions/" class="dropdown-item">Don't Panic Python</a>
</li>
                                    
<li>
    <a href="../../../cours7/linkedin/instructions/" class="dropdown-item">LinkedIn</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">SQLite Python</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../sqlite_python/" class="dropdown-item">Introduction</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../../" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../../meteorites/instructions/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#dont-panic-ne-paniquez-pas-version-originale" class="nav-link">Don't Panic // Ne Paniquez Pas ! (Version originale)</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#probleme-a-resoudre" class="nav-link">Problème à Résoudre</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#demo" class="nav-link">Demo</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#schema" class="nav-link">Schéma</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#specification" class="nav-link">Spécification</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#utilisation" class="nav-link">Utilisation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="dont-panic-ne-paniquez-pas-version-originale"><a href="https://cs50.harvard.edu/sql/2024/psets/3/dont-panic/">Don't Panic</a> // Ne Paniquez Pas ! (<a href="https://cs50.harvard.edu/sql/2024/psets/3/dont-panic/">Version originale</a>)<a class="headerlink" href="#dont-panic-ne-paniquez-pas-version-originale" title="Permanent link">&para;</a></h1>
<p><img alt="Un seul ordinateur de bureau posé sur un bureau dans un bureau vide la nuit, dans le style d'un roman noir" src="https://cs50.harvard.edu/sql/2024/psets/3/dont-panic/dont-panic-glitch.png" /> "Un seul ordinateur de bureau posé sur un bureau dans un bureau vide la nuit, dans le style d'un roman noir", généré par <a href="https://openai.com/dall-e-2">DALL·E 2</a></p>
<h2 id="probleme-a-resoudre">Problème à Résoudre<a class="headerlink" href="#probleme-a-resoudre" title="Permanent link">&para;</a></h2>
<p>Vous êtes un "pentester" (testeur d'intrusion) entraîné. Les entreprises vous engagent souvent pour effectuer des tests de pénétration et signaler les vulnérabilités dans leurs systèmes de données. Il n'y a pas si longtemps, vous avez été engagé par une petite entreprise qui avait besoin de vous pour effectuer un tel test sur une base de données SQLite : celle qui alimente leur site web à faible trafic.</p>
<p>Pour réussir cette opération secrète, vous devrez :</p>
<ul>
<li>Modifier le mot de passe du compte administratif du site web.</li>
<li>Effacer tous les journaux (logs) de ce changement de mot de passe enregistrés par la base de données.</li>
<li>Ajouter de fausses données pour détourner l'attention de l'entreprise.</li>
</ul>
<p>Et maintenant, une opportunité en or se présente : vous vous êtes faufilé dans les locaux de l'entreprise, juste à temps pour voir un ingénieur logiciel quitter son bureau. La connexion de l'ingénieur à la base de données est toujours ouverte. Vous estimez avoir 5 minutes avant qu'il ne revienne. Prêt ?</p>
<h2 id="demo">Demo<a class="headerlink" href="#demo" title="Permanent link">&para;</a></h2>
<p><img alt="image-20250224182119613" src="/home/kevin-desktop/.config/Typora/typora-user-images/image-20250224182119613.png" /></p>
<p>Vous avez une base de données nommée <code>dont-panic.db</code> à côté d'un fichier <code>hack.sql</code> et <code>reset.sql</code>. L'exécution de <code>sqlite3 dont-panic.db</code> devrait ouvrir la base de données.</p>
<h2 id="schema">Schéma<a class="headerlink" href="#schema" title="Permanent link">&para;</a></h2>
<p>Désolé, il n'y a pas beaucoup de temps pour expliquer le schéma de la base de données. N'oubliez pas que vous pouvez accéder au schéma d'une base de données SQLite avec <code>.schema</code>.</p>
<h2 id="specification">Spécification<a class="headerlink" href="#specification" title="Permanent link">&para;</a></h2>
<p>Dans <code>hack.sql</code>, écrivez une séquence d'instructions SQL pour réaliser ce qui suit :</p>
<ul>
<li>Modifier le mot de passe du compte administratif du site web, <code>admin</code>, pour qu'il soit "oops!".</li>
<li>Effacer tous les journaux (logs) du changement de mot de passe ci-dessus enregistrés par la base de données.</li>
<li>Ajouter de fausses données pour détourner l'attention des autres. En particulier, pour piéger <code>emily33</code>, faites en sorte qu'il semble seulement - dans la table <code>user_logs</code> - que le mot de passe du compte <code>admin</code> a été changé pour celui de <code>emily33</code>.</li>
</ul>
<p>Lorsque vos instructions SQL dans <code>hack.sql</code> sont exécutées sur une nouvelle instance de la base de données, elles doivent produire les résultats ci-dessus. Sachez simplement que l'ordre dans lequel ces objectifs sont présentés n'est peut-être pas l'ordre dans lequel ils sont le mieux accomplis !</p>
<p>Gardez également à l'esprit que les mots de passe ne sont généralement pas stockés "en clair" - c'est-à-dire sous forme de caractères simples qui composent le mot de passe. Au lieu de cela, ils sont "hachés" (hashés), ou brouillés, pour préserver la confidentialité. Étant donné cette réalité, vous devrez vous assurer que le mot de passe auquel vous changez le mot de passe administratif est également haché. Heureusement, vous savez que les mots de passe de la table <code>users</code> sont déjà stockés sous forme de hachages MD5. Vous pouvez générer rapidement de tels hachages à partir de texte brut sur md5hashgenerator.com.</p>
<p>L'horloge tourne !</p>
<h3 id="indices">Indices<a class="headerlink" href="#indices" title="Permanent link">&para;</a></h3>
<ul>
<li>Rappelez-vous que vous pouvez <code>INSERT</code> (insérer) dans une table les lignes retournées par une instruction <code>SELECT</code>, tant que le nombre de colonnes correspond.</li>
<li>Vous pouvez créer une sous-requête à tout moment dans une instruction SQL, pas seulement dans le cadre d'une clause <code>WHERE</code>. Par exemple, considérez la requête SQL suivante sur une table <code>user_logs</code> simplifiée :</li>
</ul>
<pre><code class="language-sqlite">INSERT INTO &quot;user_logs&quot; (&quot;type&quot;, &quot;password&quot;)
SELECT 'update', (
    SELECT &quot;password&quot;
    FROM &quot;users&quot;
    WHERE &quot;username&quot; = 'carter'
);
</code></pre>
<p>La requête ci-dessus insérera une nouvelle ligne dans la table <code>user_logs</code>. La colonne <code>type</code> aura la valeur "update" et la colonne <code>password</code> aura le mot de passe actuel de l'utilisateur <code>carter</code>.</p>
<h2 id="utilisation">Utilisation<a class="headerlink" href="#utilisation" title="Permanent link">&para;</a></h2>
<p>Pour tester votre piratage au fur et à mesure que vous l'écrivez dans vos fichiers <code>hack.sql</code>, vous pouvez interroger la base de données en exécutant</p>
<pre><code>.read hack.sql
</code></pre>
<p>Si vous devez réinitialiser la base de données à tout moment, vous pouvez exécuter</p>
<pre><code>.read reset.sql
</code></pre>
<p>pour la ramener à sa forme originale.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
